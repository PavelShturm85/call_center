# Django-приложение для колл центра

## Приложение:
*  перехватывает активные звонки из asterisk и записывает их в базу данных
* получает информацию о звонках попавших на автоответчики записывает их в базу данных
* позволяет прослушать аудиозаписи разговоров и автоответчика 
* позволяет оператору добавить коментарий к звонку
* позволяет оператору переадресовать задачу исполнителю
* позволяет изменять статусы звонка
* ведет лог изменений задач пользователями


# Запуск приложения

```
$ celery -A call_center worker -l info
```
```
$ celery -A call_center beat -l info
```
```
$ python call_center/watcher.py
```
```
$ python manage.py runserver
```

## Команды для работы с докером.
```
$ sudo docker-compose up 
```
* в директории с docker-compose.yml
происать эту команду. Запускает сервисы прописанные в компосе и
если не обнаруживает image/замечает изменения в Dockerfileах
билдит новые имаджи и запускает их контейнеры

```
$ sudo docker image ls
```
* Показывает все имаджи в реестре компьютера

```
$ sudo docker container ls
```
* Показывает все запущенные контейнеры в реестре компьютера

```
$ sudo docker container rm <container name|id>
```
* Удаляет контейнер с указанным айди или неймом

```
$ sudo docker image rmi --force <image name|id>
```
* Удаляет имадж с указанным айди или неймом, вместе с контейнером

```
$ sudo docker-compose ps
```
* Просмотреть запущенные сервисы docker-compose

```
$ sudo docker-compose rm <id|name>
```
* удалить запущенные службы докер-компос
* --all - удаляет все службы

```
$ sudo docker exec <id container> bash
```
* Зайти внутрь запущенного контейнера докера, через его id

```
$ docker run -ti -p <host_port>:<in_container_host> <container_name>
```
* Запускает контейнер с укзанным именем, привязывая порт компьютера к порту 
* внутри запущенного контейнера докера
